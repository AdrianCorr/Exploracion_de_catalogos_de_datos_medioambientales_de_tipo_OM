<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CTD Viewer</title>

  <!-- 1. Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
  <!-- 2. Leaflet Draw CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css" />
  <!-- Font Awesome (para el icono de casa) -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <!-- 3. ZoomHome CSS (local) -->
  <link rel="stylesheet" href="lib/leaflet.zoomhome.css" />
  <!-- 4. CSS propio para View -->
  <link rel="stylesheet" href="css/base.css" />
  <!-- 5. CSS propio para View -->
  <link rel="stylesheet" href="css/view.css" />
</head>

<body>
  <!-- Título principal (de color var(--primary-color)) -->
  <header class="view-header">
    <h1>CTD Viewer</h1>
  </header>

  <!-- Secciones en <details> siempre abiertas -->
  <section class="view-container">
    <!--  ──────────────── Map Section ────────────────  -->
    <details open class="view-section">
      <summary class="view-summary">Filters</summary>
      <div id="map"></div>
      <div id="bbox-coordinates" class="bbox-coordinates"></div>

      <!-- Temporal Filter -->
      <div class="filter-time">
        <label for="startDate"><strong>Start Date</strong></label>
        <input type="datetime-local" id="startDate" name="startDate" />

        <label for="endDate"><strong>End Date</strong></label>
        <input type="datetime-local" id="endDate" name="endDate" />
      </div>

      <!-- Procedure -->
      <div class="filter-procedure">
        <label for="procedure"><strong>Procedure</strong></label>
        <input type="text" id="procedure" name="procedure" />
      </div>

      <div class="filter-actions">
        <button id="searchBtn">Search</button>
      </div>
    </details>

    <!--  ─────────────── Results Section ──────────────  -->
    <details open class="view-section">
      <summary class="view-summary">
        Results
        <span id="resultsCounter" class="results-counter">(0/0)</span>
      </summary>
      <div id="resultsList" class="results-list">
        <!-- Aquí se irá rellenando la lista de IDs o datos extraídos -->
      </div>
    </details>
  </section>

  <!-- 6. Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
  <!-- 7. Leaflet Draw JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>
  <!-- 8. ZoomHome JS (local) -->
  <script src="lib/leaflet.zoomhome.min.js"></script>
  <!-- 9. Nuestro código JS de “view” -->
  <script type="module" src="js/view/view.js"></script>
  <!-- 10. Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</body>
</html>
